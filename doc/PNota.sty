\usepackage{latexsym}
\usepackage{graphicx}
\usepackage{amsmath}

\renewcommand{\textfraction}{0.2}

%%% Odd Symbols, like Number Sets

\newcommand{\Complex}
{\mbox{${\mathchoice {\setbox0=\hbox{$\displaystyle\rm C$}\hbox{\hbox
to0pt{\kern0.4\wd0\vrule height0.9\ht0\hss}\box0}}
{\setbox0=\hbox{$\textstyle\rm C$}\hbox{\hbox
to0pt{\kern0.4\wd0\vrule height0.9\ht0\hss}\box0}}
{\setbox0=\hbox{$\scriptstyle\rm C$}\hbox{\hbox
to0pt{\kern0.4\wd0\vrule height0.9\ht0\hss}\box0}}
{\setbox0=\hbox{$\scriptscriptstyle\rm C$}\hbox{\hbox
to0pt{\kern0.4\wd0\vrule height0.9\ht0\hss}\box0}}}$}}

\newcommand{\Real}{\mbox{${\rm I\!R}$}}

\newcommand{\Rational}
{\mbox{${\mathchoice {\setbox0=\hbox{$\displaystyle\rm Q$}\hbox{\raise
0.15\ht0\hbox to0pt{\kern0.4\wd0\vrule height0.8\ht0\hss}\box0}}
{\setbox0=\hbox{$\textstyle\rm Q$}\hbox{\raise
0.15\ht0\hbox to0pt{\kern0.4\wd0\vrule height0.8\ht0\hss}\box0}}
{\setbox0=\hbox{$\scriptstyle\rm Q$}\hbox{\raise
0.15\ht0\hbox to0pt{\kern0.4\wd0\vrule height0.7\ht0\hss}\box0}}
{\setbox0=\hbox{$\scriptscriptstyle\rm Q$}\hbox{\raise
0.15\ht0\hbox to0pt{\kern0.4\wd0\vrule height0.7\ht0\hss}\box0}}}$}}

\newcommand{\Integer}
{\mbox{${\mathchoice {\hbox{$\sf\textstyle Z\kern-0.4em Z$}}
{\hbox{$\sf\textstyle Z\kern-0.4em Z$}}
{\hbox{$\sf\scriptstyle Z\kern-0.3em Z$}}
{\hbox{$\sf\scriptscriptstyle Z\kern-0.2em Z$}}}$}}

\newcommand{\Nat}{\mbox{${\rm I\!N}$}}

\newcommand{\PosNat}{\mbox{$\Nat_+$}}


\newcommand{\spcolon}{\mbox{$\: : \;$}}  % a spaced colon
\newcommand{\spbar}{\mbox{$\: \mid \;$}} % a spaced bar, for set definitions, etc.
\newcommand{\dotdot}{\mbox{..}}          % two dots, for intervals

\newcommand{\geneq}{\mbox{$\geq\!\!\!\!\!_\backslash \ $}} % > or =, but not =
\newcommand{\leneq}{\mbox{$\leq\!\!\!\!\!_/ \ $}}          % < or =, but not =
\newcommand{\nexists}{\mbox{$\exists\!\!\!/ \ $}}          % doesn't exist
\newcommand{\udot}{\uplus} % To be implemented             % disjoint union
\newcommand{\bigudot}{\biguplus} % To be implemented

%%% Type Style Control

\newcommand{\name}[1]{\ensuremath{\mathit{#1}}}            % multiletter variables
\newcommand{\acr}[1]{\ensuremath{\mathrm{#1}}}             % acronyms and log-like functions
\newcommand{\vect}[1]{\ensuremath{\mathbf{#1}}}            % vectors and matrices
\newcommand{\zeros}{\vect{0}}                              % vector 0
\newcommand{\ones}{\vect{1}}                               % vector 1 (all ones)
\newcommand{\oddvect}[1]{\ensuremath{\mathchoice           % odd vectors (e.g. greek letter)
                           {\mbox{\large \boldmath ${#1}$}}%
                           {\mbox{\normalsize \boldmath ${#1}$}}%
                           {\mbox{\footnotesize \boldmath ${#1}$}}%
                           {\mbox{\tiny \boldmath ${#1}$}}}%
                        }
\newcommand{\mset}[1]{\oddvect{#1}}                        % multisets
\newcommand{\sym}[1]{\widehat{#1}}                         % symbolic things

%%% Logic

%  \draw package.  Vaughan Pratt  (C) 1993
%
%       *+,-|.|/012     Table of 81 vectors in [-4,4]x[-4,4]
%       3456|7|89:;     Use as parameters to tell \draw how to step along
%       <=>?|@|ABCD     \draw zzzzzzz\end draws a straight line 7 steps
%       EFGH|I|JKLM        down and to the right
%       ----+-+----
%       NOPQ|R|STUV     R = (0,0), C = (3,2), * = (-4,-4), r = (-4,4)
%       ----+-+----
%       WXYZ|[|\]^_     \draw -./9:CMV_gpowvukjaWNE=45\end
%       `abc|d|efgh        draws a reasonable circle
%       ijkl|m|nopq
%       rstu|v|wxyz
%
\newcount\PLv\newcount\PLw\newcount\PLx\newcount\PLy\newdimen\PLyy\newdimen\PLX
\newbox\PLdot \setbox\PLdot\hbox{\tiny.} \def\scl{.08} % resettable scale
\def\PLot#1{\PLx`#1\advance\PLx-42\PLy\PLx\PLv\PLx\divide\PLy9\PLw\PLy\multiply
\PLw9\advance\PLx-\PLw\advance\PLx-4\PLy-\PLy\advance\PLy4\PLX=\the\PLx pt
\advance\PLyy\the\PLy pt\wd\PLdot=\scl\PLX\raise\scl\PLyy\copy\PLdot}
\def\draw#1{\ifx#1\end\let\next=\relax\else\PLot#1\let\next=\draw\fi\next}

%  Girard's inverted ampersand.  Usage: \invamp. Draw time @ 10 Mips: .33 sec
\def\invamp{\hbox{\PLyy=70pt\draw :::;DMV_gqppyyyyyooooxxxnnwvlutkjaWNE=5-./9%
9:::CCCC:::99/..--544=EENWWaajjjkktttttttNNNVVVVVVVV\end \hskip4pt}}
%  \Invamp = Boxed \invamp.  Draw time < .02 sec, but max ~300 chars/page
\newbox\iabox\setbox\iabox\invamp \def\Invamp{\copy\iabox}

\newcommand{\fall}[2]{\ensuremath{\forall #1\,.\,#2}}
\newcommand{\exist}[2]{\ensuremath{\exists #1\,.\,#2}}
\newcommand{\limp}{\ensuremath{\Rightarrow}}
\newcommand{\lbiimp}{\ensuremath{\Leftrightarrow}}
\newcommand{\luntil}[2]{\ensuremath{[#1\,{\sf U}\,#2]}}
\newcommand{\lnec}{\ensuremath{\Box}}
\newcommand{\lposs}{\ensuremath{\Diamond}}
\newcommand{\entails}{\ensuremath{{\ -\!\circ\ }}}
\newcommand{\ul}{\underline}
\newcommand{\sequent}{\ensuremath{\Rightarrow}}
\newcommand{\lpar}{\ensuremath{\invamp ~}}
\newcommand{\ltensor}{\ensuremath{\otimes}}
\newcommand{\lplus}{\ensuremath{\oplus}}
\newcommand{\lwith}{\ensuremath{\&}}

%%% Probabilities, etc.

\newcommand{\prob}{\acr{Pr}}                   % probability of something
\newcommand{\expe}{\acr{E}}                    % expected value
\newcommand{\R}{\vect{R}}                      % routing matrix
\newcommand{\rij}[2]{\ensuremath{r_{{#1}{#2}}}}
\newcommand{\Q}{\vect{Q}}                      % infinitesimal generator matrix
\newcommand{\qij}[2]{\ensuremath{q_{{#1}{#2}}}}
\newcommand{\qi}[1]{\ensuremath{q_{#1}}}
\newcommand{\vv}{\vect{v}}                     % vector of visit ratios
\newcommand{\vvi}[1]{\ensuremath{v_{#1}}}
\newcommand{\vpi}{\oddvect{\pi}}               % vector of probabilities in the steady state
\newcommand{\vpii}[1]{\ensuremath{\pi_{#1}}}
\newcommand{\vthr}{\oddvect{\chi}}             % vector of throughputs
\newcommand{\vthri}[1]{\ensuremath{\chi_{#1}}}

%%% Miscelaneous Commands

\newcommand{\rank}{\acr{rank}}
\newcommand{\powset}{\ensuremath{\mathcal{P}}}             % power set
\newcommand{\bagson}{\acr{Bag}}
\newcommand{\tuple}[1]{\ensuremath{\langle {#1} \rangle}}
\newcommand{\Rel}[1]{\ensuremath{\,\mathrm{R}_\acr{#1}\,}} % related (by #1) to
\newcommand{\proj}[2]{\ensuremath{#1\downarrow_{#2}}}      % #1 projected on #2
\newcommand{\matransp}[1]{\ensuremath{{#1}^\bot}}          % transpose matrix
\newcommand{\support}[1]{\ensuremath{\|{#1}\|}}            % support of an array
\newcommand{\vectof}[2]{\ensuremath{{#1}^{#2}}}            % arrays of #1 indexed over #2
\newcommand{\numof}[2]{\ensuremath{\#({#1},{#2})}}         % nr of occurrences of #1 in #2
\newcommand{\seqover}[1]{\ensuremath{{#1}^*}}              % finite sequences over alphabet #1
\newcommand{\infseqover}[1]{\ensuremath{{#1}^\infty}}      % infinite sequences over alphabet #1
\newcommand{\anyseqover}[1]{\ensuremath{{#1}^\omega}}      % any sequences over alphabet #1

%%% Nets and Such

\newcommand{\N}{\ensuremath{\mathcal{N}}}      % a net
\newcommand{\NS}{\ensuremath{\mathcal{S}}}     % a net system

%%%%% Main Net Objects

\newcommand{\Pre}{\vect{Pre}}                  % the preincidence matrix
\newcommand{\preij}[2]{\ensuremath{\mathit{Pre}({#1},{#2})}}
\newcommand{\Post}{\vect{Post}}                % the postincidence matrix
\newcommand{\postij}[2]{\ensuremath{\mathit{Post}({#1},{#2})}}
\newcommand{\C}{\vect{C}}                      % the incidence matrix
\newcommand{\cij}[2]{\ensuremath{c_{{#1}{#2}}}}
\newcommand{\Inh}{\vect{Inh}}                  % the inhibitor matrix
\newcommand{\inhij}[2]{\ensuremath{\name{inh}_{{#1}{#2}}}}
\newcommand{\pri}{\vect{pri}}                  % the priority vector
\newcommand{\prii}[1]{\ensuremath{\name{prior}_{#1}}}
\newcommand{\col}{\ensuremath{\mathcal{C}}}    % the colour classes
\newcommand{\cdom}{\name{cd}}                  % the colour domains
\newcommand{\tim}{\ensuremath{\mathcal{T}}}    % the timing
\newcommand{\res}{\ensuremath{\mathcal{R}}}    % the conflict resolution policy
\newcommand{\mo}{\vect{m_0}}                   % the initial marking
\newcommand{\symo}{\sym{\mo}}                  % the symbolic initial marking

                                               % pre- and post- sets
\newcommand{\preset}[1]{\ensuremath{\,\!^\bullet{#1}}}
\newcommand{\postset}[1]{\ensuremath{{#1}^\bullet}}
\newcommand{\ipreset}[1]{\ensuremath{\,\!^\ominus{#1}}}
\newcommand{\rpreset}[1]{\ensuremath{\,\!^\odot{#1}}}
\newcommand{\qpreset}[1]{\ensuremath{\,\!^\triangleright{#1}}}
\newcommand{\ipostset}[1]{\ensuremath{{#1}^\circ}}
\newcommand{\qpostset}[1]{\ensuremath{{#1}^\triangleright}}

                                               % firing something
%\newcommand{\fireseq}[1]{\raisebox{-.3ex}{\ensuremath{\stackrel{\scriptstyle {#1}}{\longrightarrow}}}}
\newcommand{\fireseq}[1]{\ensuremath{\xrightarrow{\scriptstyle {#1}}}}

%%%%% Conspicuous Net Things

\newcommand{\mk}{\vect{m}}                     % a marking
\newcommand{\mki}[1]{\ensuremath{\name{m}_{#1}}}
\newcommand{\symk}{\sym{\mk}}                  % a symbolic marking
\newcommand{\symki}[1]{\ensuremath{\sym{\name{m}}_{#1}}}
\newcommand{\si}{\ensuremath{\sigma}}          % a firing sequence
\newcommand{\vsi}{\oddvect{\si}}               % its firing count vector
\newcommand{\symsi}{\sym{\si}}                 % a symbolic sequence
\newcommand{\vx}{\vect{x}}                     % a T-semiflow
\newcommand{\vxi}[1]{\ensuremath{\name{x}_{#1}}}
\newcommand{\vy}{\vect{y}}                     % a P-semiflow
\newcommand{\vyi}[1]{\ensuremath{\name{y}_{#1}}}

%%%%% Some Reserved Names, Acronyms, Objects, etc.

\newcommand{\envect}[1]{\ensuremath{\vect{e}({#1})}} % the enabling vector at #1
\newcommand{\envecti}[2]{\ensuremath{\name{e}_{#2}({#1})}}
\newcommand{\enbd}{\vect{eb}}                  % the enabling bounds
\newcommand{\enbdi}[1]{\ensuremath{\name{eb}_{#1}}}
\newcommand{\senbd}{\vect{seb}}                % the str. enabling bounds
\newcommand{\senbdi}[1]{\ensuremath{\name{seb}_{#1}}}
\newcommand{\mkbd}{\vect{b}}                   % the marking bounds
\newcommand{\mkbdi}[1]{\ensuremath{\name{b}_{#1}}}
\newcommand{\smkbd}{\vect{sb}}                 % the str. marking bounds
\newcommand{\smkbdi}[1]{\ensuremath{\name{sb}_{#1}}}
\newcommand{\colof}{\name{Col}}                % colour class of a node
\newcommand{\guard}{\vect{guard}}              % the guards
\newcommand{\guardi}[1]{\ensuremath{\name{guard}_{#1}}}

\newcommand{\RS}{\acr{RS}}                     % Reachability Set
\newcommand{\RG}{\acr{RG}}                     % Reachability Graph
\newcommand{\SRS}{\acr{SRS}}                   % Symbolic Reachability Set
\newcommand{\SRG}{\acr{SRG}}                   % Symbolic Reachability Graph
\newcommand{\LRS}[1]{\ensuremath{\acr{LRS}^\acr{#1}}} % #1-Linearised Reachability Set
\newcommand{\LRG}[1]{\ensuremath{\acr{LRG}^\acr{#1}}} % #1-Linearised Reachability Graph
\newcommand{\La}{\acr{L}}                      % Language
\newcommand{\Cc}[1]{\ensuremath{\acr{Cc}(#1)}} % Concurrency relation at marking #1
\newcommand{\Cs}[1]{\ensuremath{\acr{Cs}(#1)}} % direct Causality relation at marking #1
\newcommand{\Cf}[1]{\ensuremath{\acr{Cf}(#1)}} % effective Conflict relation at marking #1
\newcommand{\SCs}{\acr{SCs}}                   % Structural Causal relation
\newcommand{\SCf}{\acr{SCf}}                   % Structural Conflict relation
\newcommand{\CCS}{\acr{CCS}}                   % Coupled Conflict Set
\newcommand{\SCCS}{\acr{SCCS}}                 % Set of Coupled Conflict Sets
\newcommand{\EQS}{\acr{EQS}}                   % EQual conflict Set
\newcommand{\SEQS}{\acr{SEQS}}                 % Set of EQual conflict Sets
\newcommand{\ME}{\acr{ME}}                     % Mutual Exclusion relation
\newcommand{\ECS}{\acr{ECS}}                   % Extended Conflict Set

% The following must only be used in paragraph mode:

\newcommand{\DEDS}{DEDS}                 % Discrete Event Dynamic System
\newcommand{\PN}{PN}                     % Petri Net
\newcommand{\PT}{P/T}                    % Place/Transition
\newcommand{\WN}{WN}                     % Well-formed (coloured) Net
\newcommand{\JF}{JF}                     % Join-Free
\newcommand{\SM}{SM}                     % State Machine
\newcommand{\DF}{DF}                     % Distribution-Free
\newcommand{\MG}{MG}                     % Marked Graph
\newcommand{\EQ}{EQ}                     % EQual conflict
\newcommand{\FC}{FC}                     % Free Choice
\newcommand{\AC}{AC}                     % Asymmetric Choice
\newcommand{\SA}{SA}                     % Superposed Automata
\newcommand{\DSSP}{DSSP}                 % Deterministic Systems of SP
\newcommand{\SCstar}{\{SC\}$^*$EQS}      % SC*EQS
\newcommand{\WTS}{WTS}                   % Weighted T-Systems
\newcommand{\SPR}{S$^3$PR}               % Systems of Simple Seq. Proc. with Resources

